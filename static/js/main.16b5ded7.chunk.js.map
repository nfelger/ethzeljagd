{"version":3,"sources":["Para.js","Auth.js","QuestionMarkBox.js","Prelude.js","assets/ethereum.png","OpenSeaAsset.js","claimAssetContract.js","assets/lock.png","assets/lock-open.png","ClaimableAsset.js","ClaimFour.js","Finale.js","Game.js","App.js","reportWebVitals.js","index.js"],"names":["Para","children","extraClassNames","delay","para","className","authMachine","createMachine","id","initial","states","unauthenticated","on","FABIAN","NOT_FABIAN","FAIL","fabian","entry","notFabian","fail","onGetAddress","a","window","ethereum","request","method","address","Auth","fabiansEth","onComplete","useMachine","actions","complete","state","send","handleGetAddress","value","onClick","connectMetaMask","QuestionMarkBox","props","preludeMachine","msg1","after","msg2","msg3","msg4","Prelude","provider","seaport","OpenSeaPort","networkName","Network","Rinkeby","OpenSeaAsset","tokenAddress","tokenId","claimInProgress","claimed","useState","nft","setNft","useEffect","api","getAsset","asset","console","log","loader","src","height","alt","name","imageUrl","web3","Web3","givenProvider","eth","defaultChain","claimAssetContract","Contract","secretCode","Promise","resolve","reject","methods","claim","from","receipt","err","claimAsset","ClaimableAsset","onClaimed","showCodePrompt","setShowCodePrompt","setClaimInProgress","handleCode","e","preventDefault","target","code","alert","JSON","stringify","lock","style","onSubmit","htmlFor","type","lockOpen","assets","gameMachine","context","message","assetStates","start","claimFour","CLAIMED","assign","prevStates","claimThree","claimTwo","claimOne","nearlyDone","done","ClaimFour","handleClaimed","map","index","class","finaleMachine","showBox","ADVANCE","revealedBox","Finale","href","stageMachine","auth","PROGRESS","prelude","finale","Game","toLowerCase","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16b5ded7.chunk.js","sourcesContent":["import React from \"react\";\nimport { Fade } from \"react-awesome-reveal\";\n\nexport default function Para({ children, extraClassNames, delay }) {\n  const para = (\n    <div className={`p-6 text-center ${extraClassNames || \"\"}`}>{children}</div>\n  );\n\n  if (delay) {\n    return <Fade delay={delay}>{para}</Fade>;\n  } else {\n    return para;\n  }\n}\n","import React from \"react\";\nimport { createMachine } from \"xstate\";\nimport { useMachine } from \"@xstate/react\";\nimport Para from \"./Para\";\n\nconst authMachine = createMachine({\n  id: \"auth\",\n  initial: \"unauthenticated\",\n  states: {\n    unauthenticated: {\n      on: {\n        FABIAN: \"fabian\",\n        NOT_FABIAN: \"notFabian\",\n        FAIL: \"fail\",\n      },\n    },\n    fabian: {\n      entry: \"complete\",\n    },\n    notFabian: {},\n    fail: {},\n  },\n});\n\nasync function connectMetaMask(onGetAddress) {\n  const address = (\n    await window.ethereum.request({ method: \"eth_requestAccounts\" })\n  )[0];\n  onGetAddress(address);\n}\n\nexport default function Auth({ fabiansEth, onComplete }) {\n  const [state, send] = useMachine(authMachine, {\n    actions: {\n      complete: onComplete,\n    },\n  });\n\n  const handleGetAddress = (address) => {\n    const isFabian = address === fabiansEth;\n    if (isFabian) {\n      send(\"FABIAN\");\n    } else {\n      send(\"NOT_FABIAN\");\n    }\n  };\n\n  switch (state.value) {\n    case \"unauthenticated\":\n      return (\n        <button\n          onClick={() => connectMetaMask(handleGetAddress)}\n          className=\"bg-green-500 px-9 py-3 text-center font-extrabold rounded-full\"\n        >\n          Mit MetaMask verbinden\n        </button>\n      );\n\n    case \"fail\":\n      return <Para>Da ist was schiefgegangen.</Para>;\n\n    case \"notFabian\":\n      return (\n        <Para>\n          Nicht <code>fabians.eth</code>. Hau ab.\n        </Para>\n      );\n\n    case \"fabian\":\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\n\nexport default function QuestionMarkBox(props) {\n  return (\n    <div\n      {...props}\n      className=\"w-72 h-72 text-9xl text-black text-center align-middle font-bold rounded-lg border-black border-2 bg-gray-100 flex flex-col justify-center\"\n    >\n      <span>?</span>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { createMachine } from \"xstate\";\nimport { useMachine } from \"@xstate/react\";\nimport { Fade } from \"react-awesome-reveal\";\nimport QuestionMarkBox from \"./QuestionMarkBox\";\nimport Para from \"./Para\";\n\nconst preludeMachine = createMachine({\n  id: \"prelude\",\n  initial: \"msg1\",\n  states: {\n    msg1: {\n      after: {\n        2500: \"msg2\",\n      },\n    },\n    msg2: {\n      after: {\n        1000: \"msg3\",\n      },\n    },\n    msg3: {\n      after: {\n        2000: \"msg4\",\n      },\n    },\n    msg4: {},\n  },\n});\n\nexport default function Prelude({ onComplete }) {\n  const [state, send] = useMachine(preludeMachine);\n\n  switch (state.value) {\n    case \"msg1\":\n      return <Para delay={500}>Hallo, fabians.eth!</Para>;\n\n    case \"msg2\":\n      return <Para delay={500}>Hier ist eine Box.</Para>;\n\n    case \"msg3\":\n      return (\n        <>\n          <Para>Hier ist eine Box.</Para>\n          <Fade delay={250}>\n            <QuestionMarkBox />\n          </Fade>\n        </>\n      );\n\n    case \"msg4\":\n      return (\n        <>\n          <Para>Hier ist eine Box.</Para>\n          <div className=\"cursor-pointer\" onClick={onComplete}>\n            <QuestionMarkBox />\n          </div>\n          <Para delay={500}>\n            Was da wohl drin ist? Klick mal drauf, vielleicht kannst du sie\n            öffnen…\n          </Para>\n        </>\n      );\n\n    default:\n      return null;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/ethereum.23097e39.png\";","import React, { useEffect, useState } from \"react\";\nimport { OpenSeaPort, Network } from \"opensea-js\";\nimport ethereum from \"./assets/ethereum.png\";\n\nconst provider = window.ethereum;\nexport const seaport = new OpenSeaPort(provider, {\n  networkName: Network.Rinkeby,\n});\n\nexport default function OpenSeaAsset({\n  tokenAddress,\n  tokenId,\n  claimInProgress = false,\n  claimed = false,\n}) {\n  const [nft, setNft] = useState(null);\n\n  useEffect(() => {\n    async function getAsset() {\n      const asset = await seaport.api.getAsset({\n        tokenAddress: tokenAddress,\n        tokenId: tokenId,\n      });\n      console.log(asset);\n      setNft(asset);\n    }\n    getAsset();\n  }, [tokenAddress, tokenId]);\n\n  const loader = (\n    <div className=\"absolute top-0 left-0 flex flex-col justify-center items-center animate-pulse h-full w-full\">\n      <img\n        src={ethereum}\n        height=\"50\"\n        alt=\"ethereum logo\"\n        className=\"h-1/2 rounded-full bg-gray-100 p-4\"\n      />\n    </div>\n  );\n  return (\n    <>\n      <section className=\"relative rounded-lg border-black border-2 bg-gray-100 p-4 text-black h-full\">\n        {nft ? (\n          <>\n            <div\n              className={`flex flex-col items-center justify-between h-full ${\n                claimed ? \"\" : \"filter blur-sm\"\n              }`}\n            >\n              <h1>{nft.name}</h1>\n              <img\n                src={nft.imageUrl}\n                height=\"164\"\n                alt={`OpenSea asset \"${nft.name}\"`}\n              />\n            </div>\n            {claimInProgress && loader}\n          </>\n        ) : (\n          loader\n        )}\n      </section>\n    </>\n  );\n}\n","import Web3 from \"web3\";\nimport { fabiansEth } from \"./App\";\n\nconst web3 = new Web3(Web3.givenProvider || \"ws://localhost:8545\");\nweb3.eth.defaultChain = \"rinkeby\";\n\n// prettier-ignore\nconst claimAssetABI = [{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"itemId\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"secret\",\"type\":\"string\"}],\"name\":\"claim\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\nconst claimAssetAddress = \"0x31D3032911888f34506a733Cbe1F2107bDa9A7C4\";\nconst claimAssetContract = new web3.eth.Contract(\n  claimAssetABI,\n  claimAssetAddress\n);\n\nasync function claimAsset(tokenId, secretCode) {\n  return new Promise((resolve, reject) => {\n    claimAssetContract.methods\n      .claim(tokenId, secretCode)\n      .send({ from: fabiansEth })\n      .on(\"receipt\", function (receipt) {\n        resolve(receipt);\n      })\n      .on(\"error\", (err) => {\n        reject(err);\n      });\n  });\n}\n\nexport default claimAsset;\n","export default __webpack_public_path__ + \"static/media/lock.129ba482.png\";","export default __webpack_public_path__ + \"static/media/lock-open.a05787d1.png\";","import React, { useState } from \"react\";\nimport OpenSeaAsset from \"./OpenSeaAsset\";\nimport claimAsset from \"./claimAssetContract\";\nimport lock from \"./assets/lock.png\";\nimport lockOpen from \"./assets/lock-open.png\";\n\nexport default function ClaimableAsset({ state, asset, onClaimed }) {\n  const [showCodePrompt, setShowCodePrompt] = useState(false);\n  const [claimInProgress, setClaimInProgress] = useState(false);\n\n  const handleClick = () => setShowCodePrompt(true);\n\n  const handleCode = async (e) => {\n    e.preventDefault();\n    setShowCodePrompt(false);\n    const secretCode = e.target.code.value;\n\n    // Cheat.\n    if (secretCode === \"iddqd\") {\n      setClaimInProgress(false);\n      onClaimed();\n      return;\n    }\n\n    setClaimInProgress(true);\n    try {\n      const receipt = await claimAsset(asset.tokenId, secretCode);\n      console.log(receipt);\n      setClaimInProgress(false);\n      onClaimed();\n    } catch (e) {\n      alert(`Fehler: ${JSON.stringify(e)}`);\n      setClaimInProgress(false);\n    }\n  };\n\n  switch (state) {\n    case \"locked\":\n      return (\n        <div className=\"rounded-lg border-black border-2 bg-gray-100 p-4 text-black h-full flex flex-col justify-center\">\n          <img height=\"164\" src={lock} alt=\"lock\" />\n        </div>\n      );\n    case \"claimable\":\n      if (showCodePrompt || claimInProgress) {\n        return (\n          <div className=\"relative h-full\">\n            <OpenSeaAsset\n              tokenAddress={asset.tokenAddress}\n              tokenId={asset.tokenId}\n              onClaimed={onClaimed}\n              claimInProgress={claimInProgress}\n            />\n            {showCodePrompt && (\n              <div\n                className=\"absolute inset-y-1/4 mx-4 p-2 text-black text-base bg-gray-300 border-gray-500 border-2 rounded\"\n                style={{ height: \"fit-content\" }}\n              >\n                <form onSubmit={handleCode}>\n                  <label htmlFor=\"code\" className=\"my-1\">\n                    Code?\n                    <input\n                      type=\"text\"\n                      name=\"code\"\n                      className=\"w-full text-xl my-1\"\n                    />\n                  </label>\n                  <button\n                    type=\"submit\"\n                    className=\"border-gray-500 border-2 my-1 p-1 rounded\"\n                  >\n                    Los\n                  </button>\n                </form>\n              </div>\n            )}\n          </div>\n        );\n      } else {\n        return (\n          <button onClick={handleClick} className=\"h-full\">\n            <div className=\"rounded-lg border-black border-2 bg-gray-100 p-4 text-black h-full flex flex-col justify-center\">\n              <img height=\"164\" src={lockOpen} alt=\"open lock\" />\n            </div>\n          </button>\n        );\n      }\n    case \"claimed\":\n      return (\n        <OpenSeaAsset\n          tokenAddress={asset.tokenAddress}\n          tokenId={asset.tokenId}\n          claimed\n        />\n      );\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\nimport { createMachine, assign } from \"xstate\";\nimport { useMachine } from \"@xstate/react\";\nimport ClaimableAsset from \"./ClaimableAsset\";\nimport Para from \"./Para\";\n\nconst assets = [\n  {\n    tokenAddress: \"0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\",\n    tokenId:\n      \"58310386485557310259002237365246659266895050305048410171636348436913447763969\",\n  },\n  {\n    tokenAddress: \"0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\",\n    tokenId:\n      \"58310386485557310259002237365246659266895050305048410171636348438012959391745\",\n  },\n  {\n    tokenAddress: \"0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\",\n    tokenId:\n      \"58310386485557310259002237365246659266895050305048410171636348439112471019521\",\n  },\n  {\n    tokenAddress: \"0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\",\n    tokenId:\n      \"58310386485557310259002237365246659266895050305048410171636348441311494275073\",\n  },\n];\n\nconst gameMachine = createMachine({\n  id: \"game\",\n  initial: \"start\",\n  context: {\n    message:\n      \"Nicht so schnell! Um die Box zu öffnen, musst du erst vier Tokens sammeln…\",\n    assetStates: {\n      1: \"claimable\",\n      2: \"locked\",\n      3: \"locked\",\n      4: \"locked\",\n    },\n  },\n  states: {\n    start: {\n      after: {\n        5000: \"claimFour\",\n      },\n    },\n    claimFour: {\n      on: {\n        CLAIMED: {\n          target: \"claimThree\",\n          actions: assign({\n            assetStates: (context) => {\n              const prevStates = context.assetStates;\n              return { ...prevStates, 1: \"claimed\", 2: \"claimable\" };\n            },\n          }),\n        },\n      },\n      entry: assign({\n        message: \"Finde die Person, die den ersten Code kennt. Hint: 30 Mark\",\n      }),\n    },\n    claimThree: {\n      on: {\n        CLAIMED: {\n          target: \"claimTwo\",\n          actions: assign({\n            assetStates: (context) => {\n              const prevStates = context.assetStates;\n              return { ...prevStates, 2: \"claimed\", 3: \"claimable\" };\n            },\n          }),\n        },\n      },\n      entry: assign({\n        message:\n          \"Den nächsten Code hat der Besitzer eines zweihändigen Elfen-Kampfhammers.\",\n      }),\n    },\n    claimTwo: {\n      on: {\n        CLAIMED: {\n          target: \"claimOne\",\n          actions: assign({\n            assetStates: (context) => {\n              const prevStates = context.assetStates;\n              return { ...prevStates, 3: \"claimed\", 4: \"claimable\" };\n            },\n          }),\n        },\n      },\n      entry: assign({ message: \"Raidriiiiiiiiiiiiiiii!\" }),\n    },\n    claimOne: {\n      on: {\n        CLAIMED: {\n          target: \"nearlyDone\",\n          actions: assign({\n            assetStates: (context) => {\n              const prevStates = context.assetStates;\n              return { ...prevStates, 4: \"claimed\" };\n            },\n          }),\n        },\n      },\n      entry: assign({\n        message: \"Noch eine letzte MASSIVE Herausforderung…\",\n      }),\n    },\n    nearlyDone: {\n      after: {\n        500: \"done\",\n      },\n      entry: assign({\n        message: \"Jetzt hast du alles, was du brauchst!\",\n      }),\n    },\n    done: {},\n  },\n});\n\nexport default function ClaimFour({ onComplete }) {\n  const [state, send] = useMachine(gameMachine);\n\n  const handleClaimed = () => send(\"CLAIMED\");\n\n  return (\n    <div>\n      <Para>{state.context.message}</Para>\n      <ul className=\"flex flex-row gap-4 items-stretch\">\n        {assets.map((asset, index) => (\n          <li key={asset.tokenId} className=\"flex-1\">\n            <ClaimableAsset\n              state={state.context.assetStates[index + 1]}\n              asset={asset}\n              onClaimed={handleClaimed}\n            />\n          </li>\n        ))}\n      </ul>\n      {state.value === \"done\" && (\n        <button\n          class=\"block mx-auto mt-6 bg-gray-500 hover:bg-gray-400 hover:text-black px-9 py-3 text-center rounded-full\"\n          onClick={onComplete}\n        >\n          Weiter\n        </button>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { createMachine } from \"xstate\";\nimport { useMachine } from \"@xstate/react\";\nimport { Fade } from \"react-awesome-reveal\";\nimport ClaimableAsset from \"./ClaimableAsset\";\nimport QuestionMarkBox from \"./QuestionMarkBox\";\nimport Para from \"./Para\";\n\nconst asset = {\n  tokenAddress: \"0x88b48f654c30e99bc2e4a1559b4dcf1ad93fa656\",\n  tokenId:\n    \"58310386485557310259002237365246659266895050305048410171636348440211982647297\",\n};\nconst finaleMachine = createMachine({\n  id: \"finale\",\n  initial: \"start\",\n  states: {\n    start: {\n      after: {\n        2000: \"showBox\",\n      },\n    },\n    showBox: {\n      on: {\n        ADVANCE: \"revealedBox\",\n      },\n    },\n    revealedBox: {\n      on: {\n        ADVANCE: \"claimed\",\n      },\n    },\n    claimed: {},\n  },\n});\n\nexport default function Finale() {\n  const [state, send] = useMachine(finaleMachine);\n\n  switch (state.value) {\n    case \"start\":\n      return <Para delay={500}>Die Box gehört fast dir!</Para>;\n\n    case \"showBox\":\n      return (\n        <>\n          <Para>Schnapp sie dir!</Para>\n          <Fade delay={500}>\n            <button onClick={() => send(\"ADVANCE\")}>\n              <QuestionMarkBox />\n            </button>\n          </Fade>\n        </>\n      );\n\n    case \"revealedBox\":\n      return (\n        <>\n          <Para>\n            Ein letzter Code: <code>fabians40.eth</code> (get it?)\n          </Para>\n          <div className=\"w-72\">\n            <ClaimableAsset\n              state=\"claimable\"\n              asset={asset}\n              onClaimed={() => send(\"ADVANCE\")}\n            />\n          </div>\n        </>\n      );\n\n    case \"claimed\":\n      return (\n        <>\n          <Para>Endlich deins!</Para>\n          <Para>Finde heraus, was sich in der Box versteckt:</Para>\n          <div className=\"w-72\">\n            <a\n              href={`https://testnets.opensea.io/assets/${asset.tokenAddress}/${asset.tokenId}`}\n            >\n              <ClaimableAsset state=\"claimed\" asset={asset} />\n            </a>\n          </div>\n        </>\n      );\n\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\nimport { createMachine } from \"xstate\";\nimport { useMachine } from \"@xstate/react\";\nimport Auth from \"./Auth\";\nimport Prelude from \"./Prelude\";\nimport ClaimFour from \"./ClaimFour\";\nimport Finale from \"./Finale\";\n\nconst stageMachine = createMachine({\n  id: \"stage\",\n  initial: \"auth\",\n  states: {\n    auth: {\n      on: { PROGRESS: \"prelude\" },\n    },\n    prelude: {\n      on: { PROGRESS: \"claimFour\" },\n    },\n    claimFour: {\n      on: { PROGRESS: \"finale\" },\n    },\n    finale: {},\n  },\n});\n\nexport default function Game({ fabiansEth }) {\n  const [state, send] = useMachine(stageMachine);\n\n  switch (state.value) {\n    case \"auth\":\n      return (\n        <Auth fabiansEth={fabiansEth} onComplete={() => send(\"PROGRESS\")} />\n      );\n    case \"prelude\":\n      return <Prelude onComplete={() => send(\"PROGRESS\")} />;\n    case \"claimFour\":\n      return <ClaimFour onComplete={() => send(\"PROGRESS\")} />;\n    case \"finale\":\n      return <Finale />;\n    default:\n      return null;\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Game from \"./Game\";\n\n// TODO: change to real addr: 0x5Ed82a25DfeEaE0c35297B605fC9c63A14caE0fd\nexport const fabiansEth =\n  \"0x80eA825A030bcAbc7f7c4571f4ed1da2FB49d8bf\".toLowerCase();\n\nfunction App() {\n  return (\n    <div className=\"flex flex-col items-center mt-6 mx-2 text-white text-3xl\">\n      <Game fabiansEth={fabiansEth} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}